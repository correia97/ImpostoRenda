machine:
 post:
  - sudo sh -c 'echo "deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ trusty main" > /etc/apt/sources.list.d/dotnetdev.list'
  - sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 417A0893
  - sudo apt-get update
  - sudo apt-get install dotnet-sdk-2.0.0
dependencies:
 override:
  - dotnet restore
test:
 pre:
  - dotnet restore src/Data/ImpostoRendaLB3.Data/ImpostoRendaLB3.Data.csproj
  - dotnet restore src/Domain/ImpostoRendaLB3.Domain/mpostoRendaLB3.Domain.csproj
  - dotnet restore src/CrossCutting/ImpostoRendaLB3.CrossCutting.IoC/ImpostoRendaLB3.CrossCutting.IoC.csproj
  - dotnet restore src/API/ImpostoRendaLB3.API/ImpostoRendaLB3.API.csproj
  - dotnet build src/API/ImpostoRendaLB3.API/ImpostoRendaLB3.API.csproj
  - dotnet build Tests/ImpostoRendaLB3.UnitTests/ImpostoRendaLB3.UnitTests.csproj
 override:
  - dotnet test Tests/ImpostoRendaLB3.UnitTests/ImpostoRendaLB3.UnitTests.csproj
